\documentclass[12pt, a4paper]{article}
\usepackage{url,graphicx,tabularx,array,geometry}
\usepackage[utf8]{inputenc}
\usepackage{paralist}
\usepackage{latexsym}
\usepackage{fancyhdr}
\usepackage{ textcomp }
\usepackage{ mathrsfs }
\usepackage{amssymb}

\pagestyle{fancy}

\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}

\DeclareUnicodeCharacter{00A0}{ }

\setlength{\parskip}{1ex} %--skip lines between paragraphs
\setlength{\parindent}{0pt} %--don't indent paragraphs

%-- Commands for header
\newcommand{\bs}{\ensuremath{\backslash}}
\renewcommand{\title}[1]{\textbf{#1}\\}
\renewcommand{\line}{\begin{tabularx}{\textwidth}{X>{\raggedleft}X}\hline\\\end{tabularx}\\[-0.5cm]}
\newcommand{\leftright}[2]{\begin{tabularx}{\textwidth}{X>{\raggedleft}X}#1%
& #2\\\end{tabularx}\\[-0.5cm]}
%\linespread{2} %-- Uncomment for Double Space
\begin{document}
\renewcommand{\headrulewidth}{0pt}
\fancyhf{}
\fancyhead[L]{
\leftright{\textbf{Zusammenfassung der Übung}}{Daniel Schmidt}
\line
\leftright{\textbf{Datenbanktheorie SS 16}}{}}
\fancyfoot[C]{\thepage}

\section*{Übung 3}

\subsection*{Aufgabe 1}

$T_1: T_0 + $ Abschlussaxiom für Wertebereich + Gleichheitsaxiome\\

\subsubsection*{a)}
$/lnot = (a1, c4)$\\
Gib Interpretation I an, die Modell von $T_1$ ist, aber nicht von $\lnot = (a1, c4) \leadsto \lnot = (a1, c4)$ nicht ableitbar (Satz von Gödel).\\

\paragraph*{I.}
$Dom = Konst_A$ als Beispiel, ext wie angegeben ext(=) wie üblich. $K: Konst_A \Rightarrow Dom$ mit $k(c) = \begin{cases} a1, & \mbox{wenn } c = c4\\ c, & \mbox{sonst} \end{cases}$. \\

Nach Konstruktion gilt:
\begin{itemize}
\item $T_0$ erfüllt
\item Gleichheitsaxiom erfüllt, insbesondere $=(a1, c4)$, da $k(c4) = a1$
\item Abschlussaxiom erfüllt
\end{itemize}

Aber 
\begin{equation}
\begin{split}
\nvDash_I \lnot &= (a1, c4)\\
\diamondsuit nicht \vDash_i \lnot &= (a1, c4)\\
\diamondsuit nicht nicht \vDash_i &= (a1, c4)\\
\diamondsuit \vDash_i &= (a1, c4)
\end{split}
\end{equation}

\subsubsection*{b)}
$\lnot do(a0)$\\
\paragraph*{I.} Dom wie oben, k = id, $ext(do) = \{ m, q, d, a0 \}$\\
I erfüllt $T_2$, Gleichheits, Abschluss und Eindeutigkeitsaxiome

Aber 

\begin{equation}
\begin{split}
\nvDash_I &\lnot do(a0)\\
\diamondsuit nicht \vDash_I &\lnot do(a0)\\
\diamondsuit nicht nicht \vDash_I &do(a0)\\
\diamondsuit \vDash_I &do(a0)\\
||a0||^\rho_I &= (a0) \in ext(do)
\end{split}
\end{equation}

\subsection*{Aufgabe 2}

\paragraph*{$f_1$}: Sei $\rho$ eine Belegung mit $\rho(X) = einbruch, \rho(Z) = pathologie$. Dann gilt $(\rho(X), offen, \rho(Z)) \in ext(akte)$\\
Also gilt: 

\begin{equation}
\begin{split}
\vDash_{I, \rho}& akte(X, offen, Z)\\
nicht nicht \vDash_{I, \rho}& akte(X, offen, Z)\\
nicht \vDash_{I, \rho}& \lnot akte(X, offen, Z)\\
nicht \vDash_{I, \rho}& (\forall Z)(\lnot akte(X, offen, Z))\\
\vDash_{I, \rho}& \lnot (\forall Z)(\lnot akte(X, offen, Z))\\
\vDash_{I, \rho}&  (\exists Z)(akte(X, offen, Z))\\
\vDash_{I, \rho}& (\exists X)(\exists Z)(akte(x,offen,Z))
\end{split}
\end{equation}
analog mit X
\\
\paragraph*{$f_2$}: Sei $f':_2 = le(X_1, Y) \wedge le(X_2, Y)$.\\
Sei $f''_2 = (X_1, X_2)$\\
Sei $\rho$ eine Belegung.

\textbf{1.Fall}\\
\begin{equation}
\begin{split}
\rho(X_1) &= \rho(X_2)\\
\vDash_{I, \rho}& f'_2\\
\vDash_{I, \rho}& \lnot f'_2 \vee f''_2\\
\vDash_{I, \rho}& f'_2 \Rightarrow f''_2\\
(\forall X_1)(\forall X_2)(\forall Y)(le(X_1, Y) \wedge le(X_2, Y) \Rightarrow (X_1, X_2)
\end{split}
\end{equation}

\textbf{2. Fall} $\rho(X_1) = \rho(X_2)$\\
Es gilt: $ext(le) = \{ (skinner, mulder), (skinner, scully) \}$\\

Mit $\rho(X_1) = \rho(X_2)$ folgt:

\begin{equation}
\begin{split}
&nicht (X_1, Y) \in ext(le) \vee nicht (X_2, Y) \in ext(le)\\
&nicht ((X_1, Y) \in ext(le) \wedge (X_2, Y) \in ext(le)\\
&nicht \vDash_{I, \rho} f'_2\\
&\vDash_{I, \rho} \lnot f'_2\\
&\vDash_{I, \rho} \lnot f'_2 \vee f''_2\\
&\vDash_{I, \rho} \lnot (\forall X_1)(\forall X_2)(\forall Y)(le(X_1, Y) \wedge le(X_2, Y) \Rightarrow = (X_1, X_2))
\end{split}
\end{equation}


\subsection*{Aufgabe 3}

$f_1$: 
\begin{equation}
\begin{split}
&\vdash akte(krycek, offen, psychologie)\footnote{mit Axiom}\\
&\vdash (\exists Z) (akte(krycek, offen, Z))\\
&\vdash (\exists X) (\exists Z) (akte(X, offen, Z))
\end{split}
\end{equation}

$f_2$: Es sei $K_{le} = \{ (skinner, mulder), (skinner scully) \}$\\
1) $(\forall X_1)(\forall Y_1)(le(X_1, Y_1) \Rightarrow (=(X_1, skinner) \wedge =(Y_1, mulder)) \vee (= (X_1, skinner) \wedge =(Y_1, scully))$\\
2) $(\forall X_2)(\forall Y_2)(le(X_2, Y_2) \Rightarrow (=(X_2, skinner) \cdots$\\
3) $(\forall X_1)(\forall Y_1)(\forall X_2)(\forall Y_2)(le(X_1, Y_1) \wedge (le(X_2, Y_2) \Rightarrow (=(X_1, skinner) \wedge =(Y_1, mulder)) \vee (= (X_1, skinner) \wedge =(Y_1, scully)) \wedge (=(X_2, skinner) \wedge =(Y_2, mulder)) \vee (= (X_2, skinner) \wedge =(Y_2, scully))$\\
4) $(\forall X_1)(\forall Y_1)(\forall X_2)(\forall Y_2)(le(X_1, Y_1) \wedge (le(X_2, Y_2) \Rightarrow =(X_1, skinner) \vee (= (X_1, skinner) \wedge =(X_2, skinner) \vee = (X_2, skinner)$\\
5) $\cdots le(X_1, Y_1) \wedge le(X_2, Y_2) \wedge (Y_1 Y_2) \Rightarrow \cdots$\\
6) $(\forall X_1)(\forall X_2)(\forall Y)(le(X_1, Y) \wedge le (X_2, Y) \Rightarrow (=(X_1, skinner) \vee = (X_1, skinner) \wedge =(X_2, skinner) \vee =(X2, skinner))$\\
7) $\cdots \Rightarrow (=(X_1, skinner) \wedge =(X2, skinner))$\\
8) $\cdots \Rightarrow (=(X_1, skinner) \wedge =(skinner, X2))$\\
9) $(\forall X_1)(\forall X_2)(\forall Y)(le(X_1, Y) \wedge le(X_2, Y) \Rightarrow = (X_1, X_2))$

\subsection*{Aufgabe 4}
Überprüfen bei Existenzqauntor und implikation oder bei allquantor und keine implikation ensteht oft unfug\\

$(\forall s, w_1, f_1, w_2, f_2) ((STUDENT(s, w_1, f_1) \wedge STUDENT(s, w_2, f_2)) \Rightarrow STUDENT(s,w_1, f_2))$

\section*{Übung 4}

\textbf{Typ 5}: $q_1(\cdots), \cdots, q_n(\cdots) :-.$ (n > 1) $\leadsto$ ist ungenaues Wissen, disjunktive Information
\paragraph{Beispiel}: BEARB(Black, Einbruch), BEARB(Black, Krycek) :- . ($T_K \leadsto T'_K$)\\
$\lnot$BEARB(Black, Einbruch). In $T_K$ wahr $\leadsto$ $T'_K$ inkonsistent.

\paragraph{$\leadsto$ notwendig:} Abänderung des Vollständigkeitsaxioms: $\lnot BEARB(Black, Einbruch)$ und $\lnot BEARB(Black, Krycek)$ dürfen nicht mehr ableitbar sein.

\subsubsection*{Verändertes Vollständigkeitsaxiom}
\begin{align}
&(\forall X)(\forall Y) (BEARB(X,Y) \Rightarrow \\
&=(X,Scully) \wedge =(Y, Einbruch)) \vee \\
&=(X,Black) \wedge =(Y, Einbruch)) \vee \\
&=(X,Black) \wedge =(Y, Krycek)) \vee 
\end{align}

Füge $T'_K$ das Literal $\lnot$BEARB(Black, Einbruch) hinzu $\Rightarrow$ BEARB(Black, Krycek) ableitbar.

\textbf{Typ 6}:

\paragraph{Beispiel} ERM(X, Sonderermittlung), ERM(X, Psychologie) :- AKTE(V,W, Psychologie), BEARBEITER(X,V).
Gilt nicht in $T_K$ (s. Scully) $\leadsto$ Hinzufügen führt zu inkonsistenten Theorie

Streichen von Tupeln als Option, Ergänzung des Vollständigkeitsaxioms:

\begin{align}
&(\forall V)(\forall W)(\forall X)(\forall Y)(ERM(X,Y) \Rightarrow (=(X, Black) \wedge =(Y, Sonderermittlung)) \\
&\vee \cdots \vee \\
&\vee (=(Akte(V,W, Psychologie) \wedge BEARBEITET(X,V)) \wedge =(Y, Sonderermittlung)) \\
&\vee (=(Akte(V,W, Psychologie) \wedge BEARBEITET(X,V)) \wedge =(Y, Psychologie)))
\end{align}

\subsection*{A3}

a) $(\forall X)(\forall Y)(\forall Z)(\lnot (AKTE(X, offen, Z) \wedge AKTE(X, geloest, Z)))$ \\
b) $(\exists X)(\exists Y)(LTD\_ERMITTLER(X,Y))$. \\
Versuch: LTD\_ERMITTLER(X,Y) :- . // Funktioniert nicht, weil X=Y möglich \\
c) Typ 4: 2 mal \\
d) $(\forall E)(AKTE(Krycek, offen, E) \Rightarrow BEARBEITET(Mulder, Krycek))$ (Typ 4) \\
e) $(\forall N)(\forall A)(ERMITTLER(N, A) \Rightarrow (=(A, Sonderermittlung) \vee (\exists M)(LERM(N,M)) \vee (\exists F)(BEARBEITET(N, F))))$
f) $(\forall N) (\forall F)(BEARR(N,F) \Rightarrow (\exists E) (AKTE(F, offen, E)))$ \\
$(\forall N) (\forall F)(BEARR(N,F) \Rightarrow \lnot(\exists E) (AKTE(F, geloest, E)))$

\section*{Übung 4/5}

\subsection*{Aufgabe 1}
\subsubsection*{a)}

$\tau_1(M) = \{x - 1 / x \in M, x \neq 1\}$. Fixpunkt: $\emptyset$

\subsubsection*{b)}
Bei Hannes nachsehen

\subsubsection*{c)}
$\tau_3(M) = R \backslash M$ \\
Sei $R = \{ 1 \}, A = \{ 2 \}, B = \{ 1,2 \}$, also $A \subseteq B$ \\
$\tau_3(A) = \{ 1\} \tau_3(B) = \emptyset$ also $\tau_3(A) \subseteq \tau_3(B)$ \\
$R = \emptyset \leadsto \tau_3(\emptyset) = \emptyset \leadsto \emptyset$ ist Fixpunkt  \\
$R = \emptyset, m \in M \leadsto m \not\in \tau_3(M) \leadsto \tau_3(M) \neq M$

\subsubsection*{d)}
$tau_4(M) = \{ 1 \} \cup \{ 2x / x \in M \}$ \\
$A \subseteq B, a \in tau_4(A) \leadsto a = 1 \text{oder} (\exists a' \in M)(a = 2 a') \leadsto (\exists a \in B)(a = 2 a') \leadsto a' \in tau_4(B)$ \\
$\{ 1 \} \cup \{ 2^i / i \ge 0 \} = \{ 1 \} \cup \{ 2 \cdot 1 \} \cup \{2 \cdot 2x / x = 2^i, i \ge 0\} = \{ 1 \} \cup \{ 2 \} \cup \{ 2x / x = 2^i, i \ge 1 \} = \{ 2x / x = 2^i, i \ge 0 \}$


\subsection*{Aufgabe 2}

\subsubsection*{1)}
$I_1 \cap I_2$ \\
$r: q(\cdots) :- p_1(\cdots), \cdots, p_m(\cdots) \in P_R$ \\

\paragraph{Fall 1}
$p_1(\cdots), \cdots, p_m(\cdots) \in I_1, q(\cdots) \in I_1$ \\
$(\exists p_i(\cdots))(j \in \{ 1, \cdots, m \} \wedge p_j \not \in I_2) \leadsto I_1 \cap I_2$ erfüllt r, da nicht alle $p_j \in I_1 \cap I_2$ 

\paragraph{Fall 2}
$p_1(\cdots), \cdots, p_m(\cdots), q(\cdots) \in I_1, I_2$ \\
Alles drin, kein Problem

\paragraph{Fall 3}
$\{ p_{i_1}(\cdots), \cdots, p_{i_k} \} \subseteq \{ p_1(\cdots), \cdots, p_m(\cdots \})$ von $I_1$ erfüllt. $\leadsto$ höchstens $p_{i_1}(\cdots), \cdots, p_{i_k}$ von $I_1 \cap I_2$ erfüllt $\Rightarrow$ r von $I_1 \cap I_2$ erfüllt.\\

\subsubsection*{2)}
Gegenbeispiel: \\
$p(i) :- p(a), p(b).$ \\
$ext_{I_1}(p) = \{ p(a)\}, ext_{I_2}(p) = \{ p(b) \}, ext_{I_1 \cup I_2}(p) = \{ p(a), p(b) \}$

p(c) müsste drin sein, fehlt aber, daher kein Modell.

\subsubsection*{3)}
\checkmark

\subsubsection*{4)}
Gegenbeispiel: \\
$P = \{ p(a) \}$ Belegung $\rho$, es gilt aber $\emptyset \neq p(a)$.
Ein Programm mit einem Fakt drin, führt zu einem nicht leeren Herbrand Universum

\subsubsection*{5)}
Siehe Hannes


\section*{Übung 7}

\subsection*{Aufgabe 2}
$P(a).$ \\
$q(x) :- \lnot p(x).$ \\
\begin{tabular}{|c|c|c|c|}
\hline
p(a) & p(b) & q(a) & q(b) \\ \hline
x & x & - & -\\
x & - & - & x\\
x & x & x & -\\
x & x & - & x\\
x & x & x & x\\
x & - & x & x\\
\hline
\end{tabular}

\subsection*{Aufgabe 4b}
Siehe Hannes



\section*{Übung 8}

Nur das Blatt besprochen

\section*{Übung 9}



\end{document}
